<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/static/img/favicon.ico" />
    <title>(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component) - ğŸ˜€ğŸ˜ğŸ˜‰ JS ê°œë°œ ë¸”ë¡œê·¸ ğŸ˜ğŸ˜†ğŸ˜„</title>
    <meta name="author" content="Secret ğŸ¤«" />
    <meta name="description" content="(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component)" />
    <meta name="keywords" content="(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component), ğŸ˜€ğŸ˜ğŸ˜‰ JS ê°œë°œ ë¸”ë¡œê·¸ ğŸ˜ğŸ˜†ğŸ˜„, Architeture" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <meta content="" property="fb:app_id">
    <meta content="ğŸ˜€ğŸ˜ğŸ˜‰ JS ê°œë°œ ë¸”ë¡œê·¸ ğŸ˜ğŸ˜†ğŸ˜„" property="og:site_name">

    

    
      <meta content="(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component)" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="ë‚˜ë§Œì˜ ê³µê°„" property="og:description">
    

    
      <meta content="http://localhost:4000/architeture/2022/03/03/Swift-RIBs-Uber-Tutorial%EC%9D%98-%EC%9D%B4%ED%95%B4(%ED%95%98%EC%9C%84-%EB%A6%AC%EB%B8%94%EB%A0%9B-%EB%B6%99%EC%9D%B4%EA%B8%B02).html" property="og:url">
    

    
      <meta content="2022-03-03T00:00:00+09:00" property="article:published_time">
      <meta content="http://localhost:4000/about/" property="article:author">
    

    
      <meta content="http://localhost:4000/static/img/mainIcon2.png" property="og:image">
    

    
      
        <meta content="Architeture" property="article:section">
      
    

    
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@">

    
      <meta name="twitter:title" content="(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component)">
    

    
      <meta name="twitter:url" content="http://localhost:4000/architeture/2022/03/03/Swift-RIBs-Uber-Tutorial%EC%9D%98-%EC%9D%B4%ED%95%B4(%ED%95%98%EC%9C%84-%EB%A6%AC%EB%B8%94%EB%A0%9B-%EB%B6%99%EC%9D%B4%EA%B8%B02).html">
    

    
      <meta name="twitter:description" content="ë‚˜ë§Œì˜ ê³µê°„">
    

    

    <!-- Font awesome icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/super-search.css">
    <link rel="stylesheet" href="/static/css/thickbox.css">
    <link rel="stylesheet" href="/static/css/projects.css">
    <link rel="stylesheet" href="/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <a href="/"><img class="profile-avatar" src="/static/img/mainIcon2.png" height="75px" width="75px" /></a>
          <h1 class="author-name">Secret ğŸ¤«</h1>
          
            <div class="profile-about">
              iOS Developer
            </div>
          
          <div class="social">
            <ul>
              
                <li><a href="https://github.com/JiSeobKim" target="_blank"><i class="fa fa-github"></i></a></li>
              
            </ul>
          </div>
          <div class="search" id="js-search">
            <input type="text" placeholder="ê¸€ ê²€ìƒ‰í•˜ê¸°" class="search__input form-control" id="js-search__input">
            <ul class="search__results" id="js-search__results"></ul>
          </div>
          <hr />
          <ul class="sidebar-nav">
            <strong>Navigation</strong>
            <li><a href="/">Home</a></li>
            
              <li><a class="about" href="/category/Swift">Category</a></li>
            
              <li><a class="about" href="/about/">About Me</a></li>
            
          </ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <header class="post-header">
  <h1 class="post-title">(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component)</h1>
</header>

<span class="time">03 Mar 2022</span>

  <span class="categories">
    &raquo; <a href="/category/Architeture">Architeture</a>
  </span>


<div class="content">
  <div class="post"><p><br /></p>

<p>ìš”ì¦˜ ì—´ì‹¬íˆ í–ˆë”ë‹ˆ ê¹ƒí—™ ì”ë””ë°­ì´ ì˜ ìë¼ê³  ìˆë‹¤.</p>

<p>ì—°ì†ìœ¼ë¡œ ì±„ì›Œì¡Œë”ë‹ˆ ì¤‘ê°„ì— ë¹„ë©´ ë§ˆìŒ ì•„í”Œê±° ê°™ì•„ì„œ</p>

<p>ë” í•˜ê²Œ ë˜ëŠ” ì¢‹ì€ íš¨ê³¼ê°€ ë‚˜íƒ€ë‚˜ëŠ” ì¤‘!</p>

<p><br /></p>

<p><a href="https://jiseobkim.github.io/architeture/2022/03/02/Swift-RIBs-Uber-Tutorialì˜-ì´í•´(í•˜ìœ„-ë¦¬ë¸”ë ›-ë¶™ì´ê¸°).html">ì´ì „ í¸</a> ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">Component</code>ë¥¼ ì‹ ê²½ ì“¸ í•„ìš” ì—†ëŠ” ë‹¨ìˆœí•œ í™”ë©´ ë¶™ì´ê¸°ë¥¼ í•˜ì˜€ë‹¤.</p>

<p>ì´ë²ˆ í¸ì—ì„œëŠ” í™”ë©´ ì „í™˜ì‹œ <code class="language-plaintext highlighter-rouge">Component</code>ë¥¼ ì‹ ê²½ì¨ì•¼í•  ë¶€ë¶„ì„ ë‹¤ë£° ì˜ˆì •!</p>

<p><br />
<br /></p>

<h1 id="í¬ì¸íŠ¸">í¬ì¸íŠ¸</h1>

<p><br /></p>

<ul>
  <li>
    <p>í™”ë©´ì„ ë–¼ëŠ”ê²ƒ (Detach)ì„ í•´ë³´ê¸°</p>
  </li>
  <li>
    <p>ì´ì „í¸ í™”ë©´ ì „í™˜ì€ <code class="language-plaintext highlighter-rouge">Router</code>ëŠ” ì¤‘ì ìœ¼ë¡œ ë‹¤ë¤˜ìœ¼ë‹ˆ ì´ë²ˆì—” <code class="language-plaintext highlighter-rouge">Component</code>ì— ì´ˆì ì„ ë§ì¶”ì.</p>
  </li>
</ul>

<p><br /></p>

<h1 id="ê²°ê³¼-í™”ë©´">ê²°ê³¼ í™”ë©´</h1>

<p><br /></p>

<p>ì „ì²´ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<p><img src="/assets/images/2022-03-03/img.png" style="zoom:40%;" /></p>

<p><br /></p>

<p>ì´ì „ <code class="language-plaintext highlighter-rouge">LoggedOut</code> í™”ë©´ì€ ì…ë ¥ì„ ë°›ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ëœë‹¤.</p>

<p><img src="/assets/images/2022-03-03/img-1.png" style="zoom:40%;" /></p>

<p><br /></p>

<p>ì´ë²ˆì— ì¶”ê°€ë  <code class="language-plaintext highlighter-rouge">OffGame</code> í™”ë©´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<p><img src="/assets/images/2022-03-03/img-2.png" style="zoom:40%;" /></p>

<p><br /></p>

<p>ë¡œì§ì€</p>

<ol>
  <li>ì‚¬ìš©ìê°€ ë‘ê°œì˜ í”Œë ˆì´ì–´ ë„¤ì„ ì…ë ¥í›„ <code class="language-plaintext highlighter-rouge">Enter</code>ë¥¼ ëˆ„ë¥¸ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">LoggedOut</code>ì€ <code class="language-plaintext highlighter-rouge">Detach</code> ëœë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">OffGame</code>ì€ <code class="language-plaintext highlighter-rouge">Attach</code> ëœë‹¤.</li>
</ol>

<p><br /></p>

<p>ì—¬ê¸°ì„œ ìš°ë²„ íŠœí† ë¦¬ì–¼ê³¼ ë‹¤ë¥¸ ì ì€ <code class="language-plaintext highlighter-rouge">ViewLess</code> íŠ¹ì§•ì„ ê°–ëŠ” <code class="language-plaintext highlighter-rouge">LoggedIn</code>ì´ ì—†ë‹¤.</p>

<p>ê·¸ ì´ìœ ëŠ” <code class="language-plaintext highlighter-rouge">Component</code>ì— ì¡°ê¸ˆ ë” ì´ˆì ì„ ë§ì¶”ê³  ì‹¶ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p><br /></p>

<p>ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">ViewLess</code>ëŠ” ë³„ë„ë¡œ í¬ìŠ¤íŒ…ì„ í•  ì˜ˆì •!</p>

<p><br />
<br /></p>

<h1 id="loggedin-ui-êµ¬ì„±">LoggedIn UI êµ¬ì„±</h1>

<p>ì „ì—ëŠ” í•‘í¬ í•‘í¬ í™”ë©´ë§Œ ë„ìš°ê³  ëë‚¬ë‹¤.</p>

<p>ì´ë²ˆì—” ê°„ë‹¨í•˜ê²Œ <code class="language-plaintext highlighter-rouge">TextField</code> 2ê°œ, <code class="language-plaintext highlighter-rouge">Button</code> 1ê°œ ë„£ì—ˆë‹¤.</p>

<p><br /></p>

<p>í•˜ì§€ë§Œ, UI ê·¸ë¦¬ëŠ”ë°ì— ì‹œê°„ ë‚­ë¹„ë¥¼ ë§‰ê¸° ìœ„í•´ ë·°ì»¨ì˜ í’€ì½”ë“œ ê³µìœ </p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">final</span> <span class="kd">class</span> <span class="kt">LoggedOutViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">LoggedOutPresentable</span><span class="p">,</span> <span class="kt">LoggedOutViewControllable</span> <span class="p">{</span>

    <span class="k">weak</span> <span class="k">var</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">LoggedOutPresentableListener</span><span class="p">?</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">firstTextField</span><span class="p">:</span> <span class="kt">UITextField</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">field</span> <span class="o">=</span> <span class="kt">UITextField</span><span class="p">()</span>
        <span class="n">field</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">field</span><span class="o">.</span><span class="n">placeholder</span> <span class="o">=</span> <span class="s">"Player 1"</span>
        <span class="n">field</span><span class="o">.</span><span class="n">borderStyle</span> <span class="o">=</span> <span class="o">.</span><span class="n">roundedRect</span>
        <span class="n">field</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">semibold</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">field</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">secondTextField</span><span class="p">:</span> <span class="kt">UITextField</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">field</span> <span class="o">=</span> <span class="kt">UITextField</span><span class="p">()</span>
        <span class="n">field</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">field</span><span class="o">.</span><span class="n">placeholder</span> <span class="o">=</span> <span class="s">"Player 2"</span>
        <span class="n">field</span><span class="o">.</span><span class="n">borderStyle</span> <span class="o">=</span> <span class="o">.</span><span class="n">roundedRect</span>
        <span class="n">field</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">semibold</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">field</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">enterButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">btn</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemCyan</span>
        <span class="n">btn</span><span class="o">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s">"Enter"</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">titleLabel</span><span class="p">?</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">bold</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kd">#selector(</span><span class="nf">enterAction</span><span class="kd">)</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="nf">setTitleColor</span><span class="p">(</span><span class="o">.</span><span class="n">white</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">12</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerCurve</span> <span class="o">=</span> <span class="o">.</span><span class="n">continuous</span>
        <span class="k">return</span> <span class="n">btn</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">stackView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">stack</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">()</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">vertical</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">equalSpacing</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="k">return</span> <span class="n">stack</span>
    <span class="p">}()</span>
    
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">nibName</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="nf">setUI</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">coder</span><span class="p">:</span> <span class="n">coder</span><span class="p">)</span>
        <span class="nf">setUI</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">setUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemPink</span>
        
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">stackView</span><span class="p">)</span>
        
        <span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">firstTextField</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">secondTextField</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">enterButton</span><span class="p">)</span>
        
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">topAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">topAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">100</span><span class="p">),</span>
            
            <span class="n">stackView</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">20</span><span class="p">),</span>
            
            <span class="n">firstTextField</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">40</span><span class="p">),</span>
            <span class="n">secondTextField</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">40</span><span class="p">),</span>
            <span class="n">enterButton</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">60</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span>
    <span class="kd">func</span> <span class="nf">enterAction</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"íƒ­íƒ­íƒ­ ì—”í„° íƒ­"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><br /></p>

<p>ë”°ë¡œ ë§í¬ë¥¼ ê±¸ê¹Œë„ í–ˆì§€ë§Œ, ì´ê²Œ ë‚˜ì€ ë“¯í•˜ë‹¤.</p>

<p><br /></p>

<p>ê·¸ëŸ¼ ì´ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì½˜ì†”ì°½ì— í”„ë¦°í„°ë¬¸ í•˜ë‚˜ê°€ ì°í ê²ƒì´ë‹¤.</p>

<p><br />
<br /></p>

<h1 id="offgameì´-í•„ìš”í•œ-ê²ƒ">OffGameì´ í•„ìš”í•œ ê²ƒ</h1>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">OffGame</code>ì€ ê²Œì„ì˜ ê²°ê³¼ í™”ë©´ì´ë¼ê³  ë³´ë©´ ì¢‹ì„ ë“¯í•˜ë‹¤.</p>

<p>ì˜ˆìƒ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<ol>
  <li>Player 1 &amp; 2ì˜ ì´ë¦„</li>
  <li>Player 1 &amp; 2ì˜ ê²°ê³¼ ì ìˆ˜</li>
</ol>

<p><br /></p>

<p>ìµœëŒ€í•œ íŠœí† ë¦¬ì–¼ê³¼ ë¹„ìŠ·í•˜ê²Œ ê°„ë‹¤ë©´,</p>

<p>ì´ë¦„ê³¼ ì ìˆ˜ì˜ ë°ì´í„°ëŠ” êµ¬ë¶„ì„ ì§€ì–´ë‘”ë‹¤.</p>

<p><br /></p>

<p>ì´ë¦„ì€ í•œë²ˆ ì…ë ¥í•˜ê³  ë‚˜ë©´ ë³€í•˜ì§€ ì•ŠëŠ” ê³ ì • ê°’ì´ë‹¤.</p>

<p>í•˜ì§€ë§Œ ì ìˆ˜ëŠ” ê²Œì„ì— ë”°ë¼ ë³€ë™ì´ ì¼ì–´ë‚˜ëŠ” ê°’ì´ë‹¤.</p>

<p><br /></p>

<p>ê·¸ë ‡ë‹¤ë©´ ì´ë¦„ì€ <code class="language-plaintext highlighter-rouge">String</code>ì´ë©´ ì¶©ë¶„í•  ë“¯ í•˜ë‹¤.</p>

<p>ì ìˆ˜ëŠ” ë³€ë™ì´ ìˆê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">RxSwift</code>ì˜ <code class="language-plaintext highlighter-rouge">BehaviorRelay</code>ê°€ ì ë‹¹í•  ë“¯ í•˜ë‹¤.</p>

<p><br /></p>

<p>ê·¸ë ‡ë‹¤ë©´, ìš°ì„  ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ ë§Œë“¤ì–´ë‘ì</p>

<p><img src="/assets/images/2022-03-03/img-3.png" style="zoom:40%;" /></p>

<p><br />
<br /></p>

<h1 id="í•„ìš”í•œ-ê²ƒì€-componentì—-ì •ì˜">í•„ìš”í•œ ê²ƒì€ Componentì— ì •ì˜</h1>

<p><br /></p>

<p>ìœ„ì—ì„œ ë§í•œ í•„ìš” ì •ë³´ë“¤ì„ ëª…ì‹œí•´ì¤„ ì°¨ë¡€ì´ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">OffGameBuilder.swift</code>ì— ê°€ë³´ë©´ <code class="language-plaintext highlighter-rouge">OffGameComponent</code>ê°€ ìˆë‹¤.</p>

<p><br /></p>

<p>ì—¬ê¸°ì— ì´ ì •ë³´ë“¤ì„ ì ì–´ì¤€ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">final</span> <span class="kd">class</span> <span class="kt">OffGameComponent</span><span class="p">:</span> <span class="kt">Component</span><span class="o">&lt;</span><span class="kt">OffGameDependency</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">fileprivate</span> <span class="k">var</span> <span class="nv">player1Name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">fileprivate</span> <span class="k">var</span> <span class="nv">player2Name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">fileprivate</span> <span class="k">var</span> <span class="nv">score</span><span class="p">:</span> <span class="kt">BehaviorRelay</span><span class="o">&lt;</span><span class="kt">GameScore</span><span class="o">&gt;</span>
    
    <span class="nf">init</span><span class="p">(</span>
        <span class="nv">player1Name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
        <span class="nv">player2Name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
        <span class="nv">dependency</span><span class="p">:</span> <span class="kt">OffGameDependency</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">player1Name</span> <span class="o">=</span> <span class="n">player1Name</span>
        <span class="k">self</span><span class="o">.</span><span class="n">player2Name</span> <span class="o">=</span> <span class="n">player2Name</span>
        <span class="k">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="kt">GameScore</span><span class="p">(</span><span class="nv">player1Score</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">player2Score</span><span class="p">:</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">dependency</span><span class="p">:</span> <span class="n">dependency</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">GameScore</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">player1Score</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="k">var</span> <span class="nv">player2Score</span><span class="p">:</span> <span class="kt">Int</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ìœ„ì—ì„œ ë§í•œê²ƒ ì²˜ëŸ¼ ê³ ì • ê°’ <code class="language-plaintext highlighter-rouge">String</code> 2ê°œ, ë³€ë™ ê°’ <code class="language-plaintext highlighter-rouge">BehaviorRelay</code> 1ê°œ ì„ ì–¸ í•´ì£¼ì—ˆë‹¤.</p>

<blockquote>
  <p>í•´ë‹¹ í”„ë¡œí¼í‹°ë“¤ì€ í•˜ìœ„ ë¦¬ë¸”ë ›ì´ ì°¸ê³ í•  ì¼ë„ ì—†ë‹¤. ë”°ë¼ì„œ ì´ íŒŒì¼ë§Œ ì“°ì´ë©´ ë˜ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">filePrivate</code> ì ‘ê·¼ì œì–´ì ì‚¬ìš©</p>
</blockquote>

<p><br /></p>

<p>ê·¸ëŸ¬ë©´ ì´ì œ ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ <code class="language-plaintext highlighter-rouge">Component</code>ë¥¼ ìƒì„±í•˜ëŠ” ê³³ì—ì„œ ì—ëŸ¬ê°€ í•˜ë‚˜ ìƒê²¼ì„ ê²ƒì´ë‹¤.</p>

<p><img src="/assets/images/2022-03-03/img-4.png" style="zoom:40%;" /></p>

<p><br /></p>

<p>ì´ í•„ìš” ê°’ë“¤ì€ <code class="language-plaintext highlighter-rouge">OffGame</code>ì´ ìƒì„±ë˜ëŠ” ë‹¹ì‹œì— ë°›ì•„ì™€ì„œ ì´ˆê¸°í™” í•´ì£¼ëŠ”ê²Œ ë§ë‹¤.</p>

<p><br /></p>

<p>ë”°ë¼ì„œ, <code class="language-plaintext highlighter-rouge">build</code> ë©”ì†Œë“œ ê´€ë ¨ í”„ë¡œí† ì½œê³¼ êµ¬í˜„ë¶€ë¥¼ ìˆ˜ì •í•´ì£¼ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">OffGameBuildable</span><span class="p">:</span> <span class="kt">Buildable</span> <span class="p">{</span>
    <span class="c1">// ìˆ˜ì • ì „</span>
    <span class="kd">func</span> <span class="nf">build</span><span class="p">(</span><span class="n">withListener</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">OffGameListener</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">OffGameRouting</span>
    <span class="c1">// ìˆ˜ì • í›„</span>
    <span class="kd">func</span> <span class="nf">build</span><span class="p">(</span><span class="n">withListener</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">OffGameListener</span><span class="p">,</span> <span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">OffGameRouting</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ë¦¬ê³  ì´ë¥¼ ë”°ë¥´ëŠ” êµ¬í˜„ì²´ë„ ìˆ˜ì •ì„ í•´ì¤€ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">build</span><span class="p">(</span><span class="n">withListener</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">OffGameListener</span><span class="p">,</span> <span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">OffGameRouting</span> <span class="p">{</span>
    <span class="c1">// ë³€ê²½ ì „</span>
    <span class="k">let</span> <span class="nv">component</span> <span class="o">=</span> <span class="kt">OffGameComponent</span><span class="p">(</span><span class="nv">dependency</span><span class="p">:</span> <span class="n">dependency</span><span class="p">)</span>
    
    <span class="c1">// ë³€ê²½ í›„</span>
    <span class="k">let</span> <span class="nv">component</span> <span class="o">=</span> <span class="kt">OffGameComponent</span><span class="p">(</span><span class="nv">dependency</span><span class="p">:</span> <span class="n">dependency</span><span class="p">,</span> <span class="nv">player1Name</span><span class="p">:</span> <span class="n">player1</span><span class="p">,</span> <span class="nv">player2Name</span><span class="p">:</span> <span class="n">player2</span><span class="p">)</span>
    
    <span class="c1">// ì•„ë˜ëŠ” ìƒëµ</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ëŸ¼ ì´ì œ í•œê°€ì§€ ê³ ë¯¼ì„ í•  ìˆ˜ ìˆë‹¤.</p>

<p>ì¶”ê°€í•œ <code class="language-plaintext highlighter-rouge">String</code> 2ê°œì™€ <code class="language-plaintext highlighter-rouge">BehaviorRelay</code>ë¥¼ ëˆ„ê°€ ê°€ì§€ê³  ìˆì„ ê²ƒì¸ê°€?</p>

<p><br /></p>

<p>ì‚¬ì‹¤, ì£„ë‹¤ <code class="language-plaintext highlighter-rouge">Interactor</code>ì— ë„£ê³  <code class="language-plaintext highlighter-rouge">Interactor</code>ì—ì„œ ì“°ë˜ì§€</p>

<p><code class="language-plaintext highlighter-rouge">Interactor</code>ê°€ <code class="language-plaintext highlighter-rouge">VC</code>ì—ê²Œ ë„˜ê¸°ë˜ì§€ í•  ìˆ˜ìˆë‹¤.</p>

<p><br /></p>

<p>ê·¸ì¹˜ë§Œ, í•˜ë‹¤ë³´ë‹ˆ íŠœí† ë¦¬ì–¼ì²˜ëŸ¼ í™”ë©´ ê³ ì • ê°’ ê°™ì€ ê²ƒë“¤ì€</p>

<p><code class="language-plaintext highlighter-rouge">ViewController</code>ì— ë°”ë¡œ ë„˜ê¸°ëŠ” ê²ƒë„ ì¢‹ë‹¤ê³  ìƒê°ì´ ë˜ì—ˆë‹¤.</p>

<p><br /></p>

<p>ë°”ë€” ì¼ì´ ì—†ë‹¤ë©´, êµ³ì´ <code class="language-plaintext highlighter-rouge">Interactor</code> ê±°ì³ì„œ <code class="language-plaintext highlighter-rouge">Presentor</code>ì— ë©”ì†Œë“œë¥¼ ì¶”ê°€í•´ì„œ <code class="language-plaintext highlighter-rouge">View</code>ë¡œ ì „ë‹¬ í•˜ëŠë‹ˆ</p>

<p><code class="language-plaintext highlighter-rouge">Builder</code>ì—ì„œ ë°”ë¡œ <code class="language-plaintext highlighter-rouge">View</code>ë¡œ ë„˜ê¸°ëŠ” ê²ƒë„ ì¢‹ë‹¤ íŒë‹¨ ë˜ì—ˆë‹¤.</p>

<p><br /></p>

<p>ê·¸ë˜ì„œ ìš°ì„  <code class="language-plaintext highlighter-rouge">OffGameViewController</code>ë¡œ ì´ë™í•´ì„œ ì´ˆê¸°í™” êµ¬ë¬¸ê³¼ UIì…‹íŒ… ë¶€ë¶„ì„ ì‘ì„±í•´ì£¼ì.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">final</span> <span class="kd">class</span> <span class="kt">OffGameViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">OffGamePresentable</span><span class="p">,</span> <span class="kt">OffGameViewControllable</span> <span class="p">{</span>

    <span class="k">weak</span> <span class="k">var</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">OffGamePresentableListener</span><span class="p">?</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">player1Name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">player2Name</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">(</span>
        <span class="nv">player1Name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
        <span class="nv">player2Name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">player1Name</span> <span class="o">=</span> <span class="n">player1Name</span>
        <span class="k">self</span><span class="o">.</span><span class="n">player2Name</span> <span class="o">=</span> <span class="n">player2Name</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">nibName</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="nf">setUI</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">fatalError</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">setUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemOrange</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ëŸ¼, ì´ˆê¸°í™” ë¶€ë¶„ì— <code class="language-plaintext highlighter-rouge">String</code>ì„ 2ê°œ ë°›ê²Œ í•´ë‘ì—ˆìœ¼ë‹ˆ,</p>

<p>ë‹¤ì‹œ <code class="language-plaintext highlighter-rouge">Builder</code>ë¡œ ëŒì•„ê°€ì„œ ì´ˆê¸°í™”í• ë•Œ ê°’ì„ í• ë‹¹í•´ì£¼ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// OffGameBuilder Class</span>
<span class="c1">// In build Method</span>

<span class="c1">// ë³€ê²½ ì „</span>
<span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">OffGameViewController</span><span class="p">()</span>

<span class="c1">// ë³€ê²½ í›„</span>
<span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">OffGameViewController</span><span class="p">(</span>
    <span class="nv">player1Name</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">player1Name</span><span class="p">,</span>
    <span class="nv">player2Name</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">player2Name</span>
<span class="p">)</span>
</code></pre></div></div>

<p><br /></p>

<p>ì´ì œ ë‹¤ë¥¸ ë³€ìˆ˜ ì˜€ë˜ <code class="language-plaintext highlighter-rouge">score</code>ë¥¼ ìƒê°í•´ë³´ì</p>

<p><code class="language-plaintext highlighter-rouge">BehaivorRelay</code> íƒ€ì…ì˜ ë³€ë™ ê°€ëŠ¥í•œ ê°’ì´ê³ </p>

<p><code class="language-plaintext highlighter-rouge">score</code>ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì“°ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ <code class="language-plaintext highlighter-rouge">Interactor</code>ê°€ ì ë‹¹í•´ë³´ì¸ë‹¤.</p>

<p><br /></p>

<p>ë”°ë¼ì„œ, <code class="language-plaintext highlighter-rouge">OffGameInteractor</code>ì˜ <code class="language-plaintext highlighter-rouge">init</code>ë„ ìˆ˜ì •í•´ì£¼ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ë³€ê²½ ì „</span>
<span class="k">override</span> <span class="nf">init</span><span class="p">(</span><span class="nv">presenter</span><span class="p">:</span> <span class="kt">OffGamePresentable</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">presenter</span><span class="p">:</span> <span class="n">presenter</span><span class="p">)</span>
    <span class="n">presenter</span><span class="o">.</span><span class="n">listener</span> <span class="o">=</span> <span class="k">self</span>
<span class="p">}</span>

<span class="c1">// ë³€ê²½ í›„</span>
<span class="kd">import</span> <span class="kt">RxRelay</span>

<span class="kd">private</span> <span class="k">let</span> <span class="nv">score</span><span class="p">:</span> <span class="kt">BehaviorRelay</span><span class="o">&lt;</span><span class="kt">GameScore</span><span class="o">&gt;</span>

<span class="nf">init</span><span class="p">(</span>
    <span class="nv">presenter</span><span class="p">:</span> <span class="kt">OffGamePresentable</span><span class="p">,</span>
    <span class="nv">score</span><span class="p">:</span> <span class="kt">BehaviorRelay</span><span class="o">&lt;</span><span class="kt">GameScore</span><span class="o">&gt;</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">score</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">presenter</span><span class="p">:</span> <span class="n">presenter</span><span class="p">)</span>
    <span class="n">presenter</span><span class="o">.</span><span class="n">listener</span> <span class="o">=</span> <span class="k">self</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ì‚¬ì‹¤ ì—¬ê¸°ì„œëŠ” êµ¬ë…ë§Œ í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">Observable</code>ì´ë©´ ì¶©ë¶„í•˜ê³ </p>

<p>êµ³ì´ <code class="language-plaintext highlighter-rouge">BehaivorRelay</code>ë¡œ ë°›ì„ í•„ìš”ëŠ” ì—†ì§€ë§Œ,,,</p>

<p>ì„¤ëª…ì´ ë„ˆë¬´ ê¸¸ì–´ì§€ë‹ˆâ€¦.. Passâ€¦</p>

<p><br /></p>

<p>ê·¸ëŸ¼ ì´ì œ ë¹Œë“œí•˜ë©´ ì—ëŸ¬ê°€ ë‚˜ê³  ì–´ë””ì„œ ë‚ ì§€ëŠ” ê°ì´ ì ì  ì˜¨ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">Builder</code>ë¡œ ê°€ì„œ ìˆ˜ì •í•´ì£¼ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In OffGameBuilder class</span>

<span class="kd">func</span> <span class="nf">build</span><span class="p">(</span><span class="n">withListener</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">OffGameListener</span><span class="p">,</span> <span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">OffGameRouting</span> <span class="p">{</span>
    
    <span class="k">let</span> <span class="nv">component</span> <span class="o">=</span> <span class="kt">OffGameComponent</span><span class="p">(</span><span class="nv">dependency</span><span class="p">:</span> <span class="n">dependency</span><span class="p">,</span> <span class="nv">player1Name</span><span class="p">:</span> <span class="n">player1</span><span class="p">,</span> <span class="nv">player2Name</span><span class="p">:</span> <span class="n">player2</span><span class="p">)</span>
    <span class="c1">// ... ì¤‘ê°„ ìƒëµ</span>
    
    <span class="c1">// ë³€ê²½ ì „</span>
    <span class="k">let</span> <span class="nv">interactor</span> <span class="o">=</span> <span class="kt">OffGameInteractor</span><span class="p">(</span><span class="nv">presenter</span><span class="p">:</span> <span class="n">viewController</span><span class="p">)</span>
 
    <span class="c1">// ë³€ê²½ í›„</span>
    <span class="k">let</span> <span class="nv">interactor</span> <span class="o">=</span> <span class="kt">OffGameInteractor</span><span class="p">(</span>
        <span class="nv">presenter</span><span class="p">:</span> <span class="n">viewController</span><span class="p">,</span>
        <span class="nv">score</span><span class="p">:</span> <span class="n">component</span><span class="o">.</span><span class="n">score</span>
    <span class="p">)</span>
    
    <span class="c1">// .. ì—¬ê¸°ë„ ìƒëµ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ìˆ˜ì •í•˜ê³  ë‚˜ë©´ ì´ì œ ì—ëŸ¬ëŠ” ì•ˆë‚˜ì§€ë§Œ ì§€ê¸ˆ ì—¬ê¸°ê¹Œì§€ í•œê¹€ì— <code class="language-plaintext highlighter-rouge">Interactor</code> ë„˜ì–´ì˜¨ <code class="language-plaintext highlighter-rouge">score</code>ë¥¼ êµ¬ë…í•´ì„œ</p>

<p>ê°’ ë°©ì¶œì‹œ <code class="language-plaintext highlighter-rouge">viewController</code>ì—ê²Œ ì „ë‹¬í•˜ëŠ” ì½”ë“œë„ ì§œë†“ì.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">OffGameInteractor.swift</code> íŒŒì¼ì„ ë³´ë©´ <code class="language-plaintext highlighter-rouge">OffGamePresentable</code>ê°€ ìˆë‹¤.</p>

<p>ì´ê²ƒì€ <code class="language-plaintext highlighter-rouge">OffGameViewController</code>ê°€ ë”°ë¥´ê³  ìˆë‹¤.</p>

<p><br /></p>

<p>ê·¸ëŸ¬ë¯€ë¡œ, ì € í”„ë¡œí† ì½œì— ë©”ì†Œë“œë¥¼ ë§Œë“ ë‹¤ë©´ ë·°ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì´ë¥¼ ì§€ì¼œì•¼í•œë‹¤.</p>

<p><br /></p>

<p>ì´ ì ì„ ì´ìš©í•´ì„œ ë°©ì¶œëœ ê°’ì„ ì—…ë°ì´íŠ¸ í•´ì£¼ë„ë¡ í•˜ì.</p>

<p>ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">OffGamePresentable</span><span class="p">:</span> <span class="kt">Presentable</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">OffGamePresentableListener</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span>
    
    <span class="c1">// ì¶”ê°€</span>
    <span class="kd">func</span> <span class="nf">updateScore</span><span class="p">(</span><span class="nv">playerScore1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">playerScore2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
    
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ë¦¬ê³  ì´ì œ <code class="language-plaintext highlighter-rouge">Interactor</code>ê°€ í™œì„±í™”ë˜ë©´ êµ¬ë…ì„ í•  ìˆ˜ ìˆë„ë¡</p>

<p><code class="language-plaintext highlighter-rouge">didBecomeActive()</code> ë˜í•œ ìˆ˜ì •í•´ì£¼ì.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">didBecomeActive</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">didBecomeActive</span><span class="p">()</span>
    
    <span class="n">score</span>
        <span class="o">.</span><span class="nf">observe</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="kt">MainScheduler</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>
        <span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span> <span class="n">score</span> <span class="k">in</span>
            <span class="k">let</span> <span class="nv">score1</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="n">score</span><span class="o">.</span><span class="n">player1Score</span><span class="p">)</span>
            <span class="k">let</span> <span class="nv">score2</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="n">score</span><span class="o">.</span><span class="n">player2Score</span><span class="p">)</span>
            
            <span class="k">self</span><span class="o">.</span><span class="n">presenter</span><span class="o">.</span><span class="nf">updateScore</span><span class="p">(</span><span class="nv">playerScore1</span><span class="p">:</span> <span class="n">score1</span><span class="p">,</span> <span class="nv">playerScore2</span><span class="p">:</span> <span class="n">score2</span><span class="p">)</span>
            
        <span class="p">})</span><span class="o">.</span><span class="nf">disposeOnDeactivate</span><span class="p">(</span><span class="nv">interactor</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ì—¬ê¸°ì„œ ì¬ë°ŒëŠ” ì ì´ìˆë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">disposeOnDeactivate</code>ë¼ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">RxSwift</code>ë¥¼ ì“°ë©´ í•­ìƒ <code class="language-plaintext highlighter-rouge">DisposeBag</code>ì„ ë§Œë“¤ì–´ì¤¬ëŠ”ë°,</p>

<p>ìì²´ì ìœ¼ë¡œ ì´ë¯¸ ë‹¤ êµ¬í˜„ì´ ë˜ì–´ìˆì–´ì„œ ì €ë ‡ê²Œ ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬</p>

<p>ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<p>ê·¸ëŸ¼, <code class="language-plaintext highlighter-rouge">OffGameViewController</code>ì˜ ì˜¤ë¥˜ë§Œ ì¡ê¸° ìœ„í•´ ìš°ì„  ë¹ˆ ë©”ì†Œë“œë¡œ ë‘ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In OffGameViewController</span>
<span class="kd">func</span> <span class="nf">updateScore</span><span class="p">(</span><span class="nv">playerScore1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">playerScore2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ì´ë”°ê°€ ì±„ìš°ê¸°</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>UIëŠ” ì•ˆë§Œë“¤ì—ˆì§€ë§Œ, <code class="language-plaintext highlighter-rouge">score</code> ë°©ì¶œì‹œ <code class="language-plaintext highlighter-rouge">Interactor</code>ëŠ” <code class="language-plaintext highlighter-rouge">View</code>ì—ê²Œ ìƒˆë¡œìš´ ê°’ì„ ë„˜ê²¨ì£¼ë„ë¡ ì™„ì„± ëë‹¤.</p>

<p><br /></p>

<p>ì´ì œ <code class="language-plaintext highlighter-rouge">Root</code> í•˜ìœ„ì— ìˆë˜ <code class="language-plaintext highlighter-rouge">LoggedOut</code>ì˜ <code class="language-plaintext highlighter-rouge">Enter</code>ë²„íŠ¼ì„ ëˆŒë €ì„ë•Œ</p>

<p><code class="language-plaintext highlighter-rouge">LoggedOut</code>ì„ ì œê±°í•˜ê³  <code class="language-plaintext highlighter-rouge">OffGame</code>ì„ ë„ì›Œë³´ë„ë¡í•˜ì</p>

<p><br />
<br /></p>

<h1 id="loggedout-enter-ë²„íŠ¼-ì²˜ë¦¬">LoggedOut Enter ë²„íŠ¼ ì²˜ë¦¬</h1>

<p><br /></p>

<p>ë¡œì§ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Ãˆnter</code> í„°ì¹˜</li>
  <li><code class="language-plaintext highlighter-rouge">Interactor</code>ì—ê²Œ <code class="language-plaintext highlighter-rouge">TextField</code> ë‘ê°œì˜ ì…ë ¥ëœ ê°’ ì „ë‹¬</li>
</ol>

<p><br /></p>

<p>2ë²ˆì„ í•˜ê¸° ìœ„í•´ì„œ <code class="language-plaintext highlighter-rouge">Interactor</code>ì—ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆë„ë¡</p>

<p>ê°™ì€ íŒŒì¼ ë‚´ì— ì¡´ì¬í•˜ëŠ” <code class="language-plaintext highlighter-rouge">LoggedOutPresentableListener</code>ì— ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ì.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">LoggedOutPresentableListener</span><span class="p">:</span> <span class="kt">AnyObject</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">didTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">?,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ì´ë ‡ê²Œ í•´ë‘ë©´ ì „ë‹¬í•´ì¤„ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<p>ì—¬ë‹´ìœ¼ë¡œ ì§ì ‘ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">Interactor</code>ë¼ ì•ˆì“°ê³  <code class="language-plaintext highlighter-rouge">Listener</code>ë¼ ì“°ëŠ” ê²ƒì€</p>

<p>RIBs ê°€ì´ë“œì— ë³´ë©´ ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ ì‹¤ì œë¡œëŠ” <code class="language-plaintext highlighter-rouge">View</code>ì™€ <code class="language-plaintext highlighter-rouge">Interactor</code> ì‚¬ì´ì—</p>

<p><code class="language-plaintext highlighter-rouge">Presenter</code>ê°€ ì¡´ì¬í•˜ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">PresentableListener</code>ë¼ëŠ” í‘œí˜„ì„ ì“°ëŠ”ë“¯ í•˜ì˜€ë‹¤.</p>

<p><img src="/assets/images/2022-03-03/img-5.png" style="zoom:40%;" /></p>

<p>(ì´ë¯¸ì§€ ì¶œì²˜: <a href="https://github.com/uber/RIBs/wiki">RIBs Github</a>)</p>

<p><br /></p>

<p>ê·¸ëŸ¼ ì´ì œ ì‹¤ì œ ë²„íŠ¼ íƒ­ ë˜ì—ˆì„ë•Œ ì•¡ì…˜ì„ ì •ì˜í•´ì£¼ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@objc</span>
<span class="kd">func</span> <span class="nf">enterAction</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">player1Text</span> <span class="o">=</span> <span class="n">firstTextField</span><span class="o">.</span><span class="n">text</span>
    <span class="k">let</span> <span class="nv">player2Text</span> <span class="o">=</span> <span class="n">secondTextField</span><span class="o">.</span><span class="n">text</span>
    
    <span class="n">listener</span><span class="p">?</span><span class="o">.</span><span class="nf">didTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="n">player1Text</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="n">player2Text</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ë¦¬ê³  ë¹Œë“œë¥¼ í•´ë³´ë©´ ì—ëŸ¬ê°€ ë‚ í…ë°</p>

<p><code class="language-plaintext highlighter-rouge">LoggedOutInteractor</code>ë¡œ ì´ë™í•´ì„œ í”„ë¡œí† ì½œì— ì ì—ˆë˜ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì£¼ì.</p>

<blockquote>
  <p>í”„ë¡œí† ì½œì€ ì´ê²Œ ë„ˆë¬´ ì¢‹ë‹¤. êµ¬í˜„ì€ ì¡°ê¸ˆ ë‚˜ì¤‘ì— í•˜ë”ë¼ë„<br />
í˜„ì¬ í™”ë©´ì—ì„œëŠ” ì½”ë“œë¥¼ ê³„ì† ì§¤ ìˆ˜ ìˆìœ¼ë‹ˆê¹ !</p>
</blockquote>

<p><br /></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// </span>
<span class="c1">// in LoggedOutInteractor of LoggedOutInteractor.swift</span>
<span class="kd">func</span> <span class="nf">didTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">?,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span> <span class="p">{</span>
    
<span class="p">}</span>
</code></pre></div></div>

<p>ìœ„ì˜ ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´ì£¼ê³  ë‚˜ë©´ ì´ì œ í•´ì•¼í•  ì¼ì€ ë¬´ì—‡ì¼ê¹Œ?</p>

<p><br /></p>

<p>í˜„ì¬ëŠ” <code class="language-plaintext highlighter-rouge">LoggedOutInteractor</code>ì´ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">LoggedOut</code>ì„ ë„ìš´ <code class="language-plaintext highlighter-rouge">RootRouter</code>í•œí…Œ <code class="language-plaintext highlighter-rouge">LoggedOutInteractor</code>ê°€ <code class="language-plaintext highlighter-rouge">LoggedOut</code>ì„ ë‹«ì•„ë‹¬ë¼ê³  í•´ì•¼í• ê¹Œ?</p>

<p><br /></p>

<p>ì•„ë‹ˆë‹¤</p>

<p>ë‹«ì•„ ë‹¬ë¼ê³  ëª…ë ¹í•˜ëŠ” ê²ƒì€ <code class="language-plaintext highlighter-rouge">Router</code>ì˜ ì—­í• ì´ê³ </p>

<p><code class="language-plaintext highlighter-rouge">Router</code>ì—ê²Œ ëª…ë ¹ì„ í•˜ëŠ” ê²ƒì€ <code class="language-plaintext highlighter-rouge">Interactor</code>ê°€ í•  ì¼ì´ë‹¤.</p>

<p><br /></p>

<p>ë‹¤ë¥¸ ë¦¬ë¸”ë ›ë¼ë¦¬ ìƒí˜¸ì‘ìš©ì„ í•˜ëŠ” ê²ƒì€ <code class="language-plaintext highlighter-rouge">Interactor</code>ì˜ ëª«ì´ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">LoggedOutInteractor</code>ëŠ” <code class="language-plaintext highlighter-rouge">RootÃŒnteractor</code>ì—ê²Œ</p>

<p>ì…ë ¥ì„ ë°›ì•˜ë‹¤ê³  ì •ë„ë§Œ ì•Œë ¤ì£¼ë©´ ëœë‹¤.</p>

<p><br /></p>

<p>ê·¸ëŸ¼ <code class="language-plaintext highlighter-rouge">RootInteractor</code>ê°€ <code class="language-plaintext highlighter-rouge">RootRouter</code>ì—ê²Œ</p>

<p>â€œì˜¤ì¼€ì´, ì…ë ¥í–ˆìœ¼ë‹ˆê¹ <code class="language-plaintext highlighter-rouge">LoggedOut</code>ë‹«ê³  <code class="language-plaintext highlighter-rouge">OffGame</code> ë„ì›Œ!â€</p>

<p>ë¼ê³  í•´ì•¼í•œë‹¤.</p>

<p><br /></p>

<blockquote>
  <p>ë¬¸ì„œë¥¼ ë³´ë‹ˆ ë‹¤ìŒê³¼ ê°™ì´ ì¨ìˆì—ˆë‹¤.<br />
ìƒìœ„ ë¦¬ë¸”ë › to í•˜ìœ„ ë¦¬ë¸”ë ›: ìŠ¤íŠ¸ë¦¼ ì´ìš©,<br />
í•˜ìœ„ ë¦¬ë¸”ë › to ìƒìœ„ ë¦¬ë¸”ë ›: ë¦¬ìŠ¤ë„ˆì˜ ì¸í„°í˜ì´ìŠ¤ ì´ìš©<br /></p>
</blockquote>

<p><br /></p>

<p>ê·¸ëŸ¼ <code class="language-plaintext highlighter-rouge">RootInteractor</code>ì—ê²Œ ì•¡ì…˜ì„ ì „ë‹¬ í•  ìˆ˜ ìˆê²Œ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In LoggedOutInteractor.swift</span>

<span class="kd">protocol</span> <span class="kt">LoggedOutListener</span><span class="p">:</span> <span class="kt">AnyObject</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">loggedOutDidTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ë„¤ì´ë°ì€ ëª‡ê°€ì§€ ë°©ì‹ì„ ë³´ì•˜ì§€ë§Œ</p>

<p>ìœ„ì™€ ê°™ì´ <code class="language-plaintext highlighter-rouge">ì–´ë””ì„œ</code> + <code class="language-plaintext highlighter-rouge">ë¬´ì—‡ì„</code> í˜•ì‹ìœ¼ë¡œ</p>

<p>ìœ„ ì½”ë“œì™€ ê°™ì´ ì‘ëª…ì„ í•˜ë©´ ë³´ê¸°ê°€ ë” ì¢‹ì•˜ë˜ ê²ƒ ê°™ë‹¤.</p>

<p><br /></p>

<p>ê·¸ëŸ¬ë©´ ì•„ê¹Œ ê³µë°±ì´ì—ˆë˜ ë©”ì†Œë“œë¥¼ ì±„ì›Œì£¼ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In LoggedOutInteractor Class</span>

<span class="kd">func</span> <span class="nf">didTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">?,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span> <span class="p">{</span>
    <span class="c1">// ì˜µì…”ë„ ì œê±°</span>
    <span class="k">let</span> <span class="nv">name1</span> <span class="o">=</span> <span class="p">(</span><span class="n">player1</span> <span class="o">==</span> <span class="kc">nil</span> <span class="o">||</span> <span class="n">player1</span><span class="p">?</span><span class="o">.</span><span class="n">isEmpty</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">?</span> <span class="s">"Player 1"</span> <span class="p">:</span>  <span class="n">player1</span><span class="o">!</span>
    <span class="k">let</span> <span class="nv">name2</span> <span class="o">=</span> <span class="p">(</span><span class="n">player2</span> <span class="o">==</span> <span class="kc">nil</span> <span class="o">||</span> <span class="n">player2</span><span class="p">?</span><span class="o">.</span><span class="n">isEmpty</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">?</span> <span class="s">"Player 2"</span> <span class="p">:</span>  <span class="n">player2</span><span class="o">!</span>
    
    <span class="n">listener</span><span class="p">?</span><span class="o">.</span><span class="nf">loggedOutDidTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="n">name1</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="n">name2</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ì´ì œ ë˜ ë¹Œë“œ í•´ì£¼ë©´ ì—ëŸ¬ê°€ ë‚œë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">RootInteractor</code>ì— ë©”ì†Œë“œë¥¼ êµ¬í˜„ ì•ˆí•´ì¤¬ê¸° ë•Œë¬¸ì´ë‹¤!</p>

<p><br /></p>

<p>ë“œë””ì–´ <code class="language-plaintext highlighter-rouge">Root</code>ìª½ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤..</p>

<p><br />
<br /></p>

<h1 id="detach">Detach</h1>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">RootInteractor</code>ì— ì—ëŸ¬ë¥¼ ì—†ì• ê¸° ìœ„í•´ í”„ë¡œí† ì½œì— ì ì—ˆë˜ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì£¼ì.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">loggedOutDidTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ì—¬ê¸°ì—” ë¬´ìŠ¨ ë‚´ìš©ì´ ë“¤ì–´ê°€ì•¼í• ê¹Œ?</p>

<p>â€œë¶™ì˜€ë˜ <code class="language-plaintext highlighter-rouge">LoggedOut</code>ì„ ì œê±°í•˜ê³  <code class="language-plaintext highlighter-rouge">OffGame</code>ì„ ë¶™ì—¬!â€</p>

<p><br /></p>

<p>í•˜ì§€ë§Œ, íŠœí† ë¦¬ì–¼ì— ìˆëŠ” ë©”ì†Œë“œëª…(<code class="language-plaintext highlighter-rouge">routeToLoggedIn</code>)ì€ ì œê±°í•˜ë¼ëŠ” ë‰˜ì•™ìŠ¤ê°€ ì—†ë‹¤.</p>

<p>ê·¸ë˜ì„œ ì¢€ë” ëª…í™•íˆ í•˜ê¸° ìœ„í•´, <code class="language-plaintext highlighter-rouge">router</code>ì—ê²Œ ë‚´ë¦¬ëŠ” ëª…ë ¹ì„ ë‘ê°€ì§€ë¡œ ë‚˜ëˆ ë³´ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">RootRouting</span><span class="p">:</span> <span class="kt">ViewableRouting</span> <span class="p">{</span>
    <span class="c1">// ê¸°ì¡´ì— ìˆë˜ ì‹œê·¸ë‹ˆì²˜</span>
    <span class="kd">func</span> <span class="nf">attachLoggedOut</span><span class="p">()</span>
    
    <span class="c1">// ì¶”ê°€ëœ ì‹œê·¸ë‹ˆì²˜</span>
    <span class="kd">func</span> <span class="nf">detachLoggedOut</span><span class="p">()</span>
    <span class="kd">func</span> <span class="nf">attachOffGame</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ëŸ¬ë©´ ì•„ê¹Œ ë¹„ì›Œìˆë˜ ë©”ì†Œë“œë¥¼ ì±„ì›Œë³´ì</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">loggedOutDidTapEnter</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">router</span><span class="p">?</span><span class="o">.</span><span class="nf">detachLoggedOut</span><span class="p">()</span>
    <span class="n">router</span><span class="p">?</span><span class="o">.</span><span class="nf">attachOffGame</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="n">player1</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="n">player2</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ì´ë ‡ê²Œ ì§œë‘ë©´ ì´í•´ê°€ ì¡°ê¸ˆ ë” ì‰¬ìš¸ ê²ƒì´ë¼ ì˜ˆìƒëœë‹¤.</p>

<p>ë©”ì†Œë“œë¥¼ íŒŒì•…í• ë•Œ</p>

<p>ë©”ì†Œë“œ ëª…ì„ ë³´ê³ ëŠ” <code class="language-plaintext highlighter-rouge">LoggedOut</code>ì—ì„œ ì—”í„° ëˆŒë €ì„ë•Œ ì´ë¦„ ì •ë³´ë¥¼ ë°›ëŠ” ë©”ì†Œë“œì„ì„ ì•Œ ìˆ˜ ìˆê³ ,</p>

<p>ì‹¤í–‰ë˜ëŠ” ì½”ë“œëŠ” <code class="language-plaintext highlighter-rouge">LoggedOut</code>ì„ ì œê±°í•˜ê³  <code class="language-plaintext highlighter-rouge">OffGame</code>ì„ íŒŒë¼ë¯¸í„° ë„˜ê²¨ì£¼ë©´ì„œ ë„ìš°ë¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<p>ì—¬ê¸°ì„œ ì¤‘ìš”í•œê±´ ì˜ì¡´ì„± ì£¼ì…ì´ ì´ë¤„ì§€ê¸° ìœ„í•´ì„ </p>

<p><code class="language-plaintext highlighter-rouge">attach</code> í•˜ë©´ì„œ ì´ëŸ°ì‹ìœ¼ë¡œ ì§„í–‰ì´ ë˜ì–´ì•¼í•œë‹¤ëŠ” ì ì„</p>

<p>ë‹¤ì‹œ í•œë²ˆ ìƒê¸°í•˜ê³  <code class="language-plaintext highlighter-rouge">Router</code>ë¡œ ì´ë™í•´ ê³„ì† í•´ë³´ì</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">RootRouter</code>ì— ìœ„ì˜ ë©”ì†Œë“œë“¤ì„ ë§Œë“¤ì–´ì¤€ë‹¤.</p>

<p><br /></p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In RootRouter Class</span>

<span class="kd">func</span> <span class="nf">detachLoggedOut</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">guard</span> <span class="k">let</span> <span class="nv">router</span> <span class="o">=</span> <span class="n">loggedOutRouting</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
    
    <span class="nf">detachChild</span><span class="p">(</span><span class="n">router</span><span class="p">)</span>
    <span class="n">viewController</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="n">loggedOutRouting</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">attachOffGame</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    
<span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">attach</code>ëŠ” ì¡°ê¸ˆ í›„ì— ë³´ê³ , <code class="language-plaintext highlighter-rouge">detach</code>ì˜ ì½”ë“œëŠ” ìœ„ì™€ ê°™ë‹¤.</p>

<p>ì–´ë ¤ìš¸ ê²ƒ ì—†ë‹¤!</p>

<p><code class="language-plaintext highlighter-rouge">detach</code>í•´ì£¼ê³  <code class="language-plaintext highlighter-rouge">viewController</code> ë‹«ì•„ ì£¼ì—ˆê³ , ì €ì¥í•´ë‘ì—ˆë˜ ê°’ì„ ë‚ ë ¸ë‹¤.</p>

<p><br /></p>

<p>ì´ ìƒíƒœë¡œ ì•± ì‹¤í–‰ í›„ <code class="language-plaintext highlighter-rouge">Enter</code>ë¥¼ ëˆŒëŸ¬ë³´ì.</p>

<p>ê·¸ëŸ¼ í•‘í¬ í™”ë©´ì´ ë‹«íˆê³  ë¯¼íŠ¸ í™”ë©´ì´ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Detach</code>ëŠ” ì˜ ë˜ì—ˆë‹¤. ê·¸ëŸ¼ ì´ì œ <code class="language-plaintext highlighter-rouge">attach</code>ì°¨ë¡€!</p>

<p><br />
<br /></p>

<h1 id="attach">Attach</h1>

<p><br /></p>

<p>ì§€ë‚œí¸ì— ìƒì„¸íˆ ë‹¤ë¤˜ê¸° ë•Œë¬¸ì— ê°„ë‹¨íˆ ë³´ë©´</p>

<p><code class="language-plaintext highlighter-rouge">buildable</code> &amp; <code class="language-plaintext highlighter-rouge">routing</code> í”„ë¡œí¼í‹°ë¥¼ ì„ ì–¸í•´ì£¼ê³ </p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="k">let</span> <span class="nv">offGameBuildable</span><span class="p">:</span> <span class="kt">OffGameBuildable</span>
<span class="kd">private</span> <span class="k">var</span> <span class="nv">offgameRouting</span><span class="p">:</span> <span class="kt">Routing</span><span class="p">?</span>
</code></pre></div></div>

<p><br /></p>

<p>ì´ˆê¸°í™” êµ¬ë¬¸ ìˆ˜ì •í•´ì£¼ê³ </p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">init</span><span class="p">(</span>
    <span class="nv">interactor</span><span class="p">:</span> <span class="kt">RootInteractable</span><span class="p">,</span>
    <span class="nv">viewController</span><span class="p">:</span> <span class="kt">RootViewControllable</span><span class="p">,</span>
    <span class="nv">loggedOutBuildable</span><span class="p">:</span> <span class="kt">LoggedOutBuildable</span><span class="p">,</span>
    <span class="nv">offGameBuildable</span><span class="p">:</span> <span class="kt">OffGameBuildable</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">offGameBuildable</span> <span class="o">=</span> <span class="n">offGameBuildable</span>
    <span class="k">self</span><span class="o">.</span><span class="n">loggedOutBuildable</span> <span class="o">=</span> <span class="n">loggedOutBuildable</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">interactor</span><span class="p">:</span> <span class="n">interactor</span><span class="p">,</span> <span class="nv">viewController</span><span class="p">:</span> <span class="n">viewController</span><span class="p">)</span>
    <span class="n">interactor</span><span class="o">.</span><span class="n">router</span> <span class="o">=</span> <span class="k">self</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">attach</code> ë©”ì†Œë“œ ìˆ˜ì •í•´ì£¼ê³ </p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">attachOffGame</span><span class="p">(</span><span class="nv">player1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">guard</span> <span class="n">offgameRouting</span> <span class="o">==</span> <span class="kc">nil</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
    
    <span class="c1">// í˜„ì¬ëŠ” withListenerì˜ interactorë¥¼ ë„£ìœ¼ë©´ ì˜¤ë¥˜ë‚œë‹¤</span>
    <span class="k">let</span> <span class="nv">router</span> <span class="o">=</span> <span class="n">offGameBuildable</span><span class="o">.</span><span class="nf">build</span><span class="p">(</span><span class="nv">withListener</span><span class="p">:</span> <span class="n">interactor</span><span class="p">,</span> <span class="nv">player1</span><span class="p">:</span> <span class="n">player1</span><span class="p">,</span> <span class="nv">player2</span><span class="p">:</span> <span class="n">player2</span><span class="p">)</span>
    <span class="n">offgameRouting</span> <span class="o">=</span> <span class="n">router</span>
    <span class="nf">attachChild</span><span class="p">(</span><span class="n">router</span><span class="p">)</span>
    <span class="n">viewControllable</span><span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">router</span><span class="o">.</span><span class="n">viewControllable</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ìœ„ì˜ ì£¼ì„ì²˜ëŸ¼ í˜„ì¬ëŠ” <code class="language-plaintext highlighter-rouge">interactor</code> ë„£ìœ¼ë©´ ì—ëŸ¬ê°€ ë‚˜ê¸° ë•Œë¬¸ì— ì•„ë˜ì²˜ëŸ¼ <code class="language-plaintext highlighter-rouge">RootInteractable</code>ì„ ìˆ˜ì •í•´ì£¼ë©´ ì—ëŸ¬ëŠ” ì‚¬ë¼ì§„ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ë³€ê²½ì „</span>
<span class="kd">protocol</span> <span class="kt">RootInteractable</span><span class="p">:</span> <span class="kt">Interactable</span><span class="p">,</span> <span class="kt">LoggedOutListener</span>

<span class="c1">// ë³€ê²½í›„</span>
<span class="kd">protocol</span> <span class="kt">RootInteractable</span><span class="p">:</span> <span class="kt">Interactable</span><span class="p">,</span> <span class="kt">LoggedOutListener</span><span class="p">,</span> <span class="kt">OffGameListener</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">Router</code>ë¥¼ ì´ˆê¸°í™” í–ˆë˜ <code class="language-plaintext highlighter-rouge">Builder</code>ë¥¼ ìˆ˜ì •í•´ì¤€ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">build</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">LaunchRouting</span> <span class="p">{</span>
    
    <span class="c1">// ìœ„ëŠ” ìƒëµ..</span>
    
    <span class="c1">// componentë¥¼ ë„£ìœ¼ë©´ í˜„ì¬ëŠ” ì˜¤ë¥˜ë‚œë‹¤.</span>
    <span class="k">let</span> <span class="nv">offGameBuilder</span> <span class="o">=</span> <span class="kt">OffGameBuilder</span><span class="p">(</span><span class="nv">dependency</span><span class="p">:</span> <span class="n">component</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="kt">RootRouter</span><span class="p">(</span>
        <span class="nv">interactor</span><span class="p">:</span> <span class="n">interactor</span><span class="p">,</span>
        <span class="nv">viewController</span><span class="p">:</span> <span class="n">viewController</span><span class="p">,</span>
        <span class="nv">loggedOutBuildable</span><span class="p">:</span> <span class="n">loggedOutBuilder</span><span class="p">,</span>
        <span class="nv">offGameBuildable</span><span class="p">:</span> <span class="n">offGameBuilder</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ì£¼ì„ì²˜ëŸ¼ <code class="language-plaintext highlighter-rouge">component</code>ë¥¼ ë„£ê²Œë˜ë©´ <code class="language-plaintext highlighter-rouge">component</code>ê°€ <code class="language-plaintext highlighter-rouge">OffGame</code>ì˜ <code class="language-plaintext highlighter-rouge">Depedency</code>ë¥¼ ì¤€ìˆ˜í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë‚œë‹¤.</p>

<p>ê·¸ë˜ì„œ ì•„ë˜ì²˜ëŸ¼ ìˆ˜ì •</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ìˆ˜ì • ì „</span>
<span class="kd">final</span> <span class="kd">class</span> <span class="kt">RootComponent</span><span class="p">:</span> <span class="kt">Component</span><span class="o">&lt;</span><span class="kt">RootDependency</span><span class="o">&gt;</span><span class="p">,</span> <span class="kt">LoggedOutDependency</span>

<span class="c1">// ìˆ˜ì • í›„</span>
<span class="kd">final</span> <span class="kd">class</span> <span class="kt">RootComponent</span><span class="p">:</span> <span class="kt">Component</span><span class="o">&lt;</span><span class="kt">RootDependency</span><span class="o">&gt;</span><span class="p">,</span> <span class="kt">LoggedOutDependency</span><span class="p">,</span> <span class="kt">OffGameDependency</span>

</code></pre></div></div>

<p><br /></p>

<p>ì‹¤í–‰í•´ë³´ì</p>

<p><img src="/assets/images/2022-03-03/gif.gif" style="zoom:80%;" /></p>

<p><br /></p>

<p>ë“œë””ì–´â€¦!</p>

<p>í›„â€¦â€¦. ã… </p>

<p><br /></p>

<p>ëì´ ë³´ì¸ë‹¤.</p>

<p>ë°ì´í„°ë“¤ì„ ë¿Œë ¤ì£¼ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">OffGameViewController</code>ì˜ UIë¥¼ ì§œë³´ì.</p>

<p><br /></p>

<p>ê¸ì–´ê°€ê¸° ì‰½ê²Œ ì½”ë“œë¡œ ì§°ë‹¤.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">final</span> <span class="kd">class</span> <span class="kt">OffGameViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">OffGamePresentable</span><span class="p">,</span> <span class="kt">OffGameViewControllable</span> <span class="p">{</span>

    <span class="k">weak</span> <span class="k">var</span> <span class="nv">listener</span><span class="p">:</span> <span class="kt">OffGamePresentableListener</span><span class="p">?</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">player1Name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">player2Name</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">player1Label</span><span class="p">:</span> <span class="kt">UILabel</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">label</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="n">label</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">label</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">semibold</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="n">label</span><span class="o">.</span><span class="n">textAlignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">center</span>
        <span class="k">return</span> <span class="n">label</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">player2Label</span><span class="p">:</span> <span class="kt">UILabel</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">label</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="n">label</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">label</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">semibold</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">textAlignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">center</span>
        <span class="n">label</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="k">return</span> <span class="n">label</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">playButton</span><span class="p">:</span> <span class="kt">UIButton</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">btn</span> <span class="o">=</span> <span class="kt">UIButton</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="o">.</span><span class="n">system</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">btn</span><span class="o">.</span><span class="nf">setTitle</span><span class="p">(</span><span class="s">"PLAY"</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="nf">setTitleColor</span><span class="p">(</span><span class="o">.</span><span class="n">white</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">normal</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">titleLabel</span><span class="p">?</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="o">.</span><span class="nf">systemFont</span><span class="p">(</span><span class="nv">ofSize</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">bold</span><span class="p">)</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemCyan</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">12</span>
        <span class="n">btn</span><span class="o">.</span><span class="n">layer</span><span class="o">.</span><span class="n">cornerCurve</span> <span class="o">=</span> <span class="o">.</span><span class="n">continuous</span>
        <span class="n">btn</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kd">#selector(</span><span class="nf">playAction</span><span class="kd">)</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">btn</span>
    <span class="p">}()</span>
    
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">stackView</span><span class="p">:</span> <span class="kt">UIStackView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">stack</span> <span class="o">=</span> <span class="kt">UIStackView</span><span class="p">()</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">axis</span> <span class="o">=</span> <span class="o">.</span><span class="n">vertical</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">distribution</span> <span class="o">=</span> <span class="o">.</span><span class="n">equalSpacing</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">alignment</span> <span class="o">=</span> <span class="o">.</span><span class="n">fill</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">spacing</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="k">return</span> <span class="n">stack</span>
    <span class="p">}()</span>
    
    <span class="nf">init</span><span class="p">(</span>
        <span class="nv">player1Name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
        <span class="nv">player2Name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">player1Name</span> <span class="o">=</span> <span class="n">player1Name</span>
        <span class="k">self</span><span class="o">.</span><span class="n">player2Name</span> <span class="o">=</span> <span class="n">player2Name</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">nibName</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">bundle</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="nf">setUI</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">fatalError</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">setUI</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemOrange</span>
        
        <span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">stackView</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">player1Label</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">player2Label</span><span class="p">)</span>
        <span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">playButton</span><span class="p">)</span>
        
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">centerXAnchor</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">topAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">topAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">100</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="mi">20</span><span class="p">),</span>
            <span class="n">stackView</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="p">,</span> <span class="nv">constant</span><span class="p">:</span> <span class="o">-</span><span class="mi">20</span><span class="p">),</span>
            
            <span class="n">player1Label</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">50</span><span class="p">),</span>
            <span class="n">player2Label</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">50</span><span class="p">),</span>
        <span class="p">])</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">updateScore</span><span class="p">(</span><span class="nv">playerScore1</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">playerScore2</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">player1Text</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">player1Name</span><span class="se">)</span><span class="s"> : </span><span class="se">\(</span><span class="n">playerScore1</span><span class="se">)</span><span class="s">"</span>
        <span class="k">let</span> <span class="nv">player2Text</span> <span class="o">=</span> <span class="s">"</span><span class="se">\(</span><span class="n">player2Name</span><span class="se">)</span><span class="s"> : </span><span class="se">\(</span><span class="n">playerScore2</span><span class="se">)</span><span class="s">"</span>
        
        <span class="n">player1Label</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">player1Text</span>
        <span class="n">player2Label</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">player2Text</span>
    <span class="p">}</span>
    
    <span class="kd">@objc</span>
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">playAction</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"í”Œë ˆì´ëŠ” ë‹¤ìŒì—!!"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<p>ê·¸ëŸ¬ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤.</p>

<p><img src="/assets/images/2022-03-03/img-2.png" style="zoom:40%;" /></p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">LoggedOut</code>ì—ì„œ ë°›ì€ ê°’ì„ ì´ìš©í•´ì„œ <code class="language-plaintext highlighter-rouge">OffGame</code>ì´ë¼ëŠ” ê²ƒì„ ë§Œë“¤ì—ˆë‹¤.</p>

<p>ê¸€ì˜ ì¤‘ì ì€ ë‹¤ì‹œ í•œë²ˆ ì–˜ê¸°íˆìë©´!</p>

<p>í•˜ìœ„ ë¦¬ë¸”ë ›ì„ ë¶™ì´ë©´ì„œ <code class="language-plaintext highlighter-rouge">Component</code>ë¥¼ ì´ìš©í•˜ë ¤ í–ˆë‹¤ëŠ” ì ì„ ìŠì§€ë§ì.</p>

<p><br />
<br /></p>

<h1 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬</h1>

<p><br /></p>

<p>ì§„ì§œ íŠœí† ë¦¬ì–¼ì´ ì™œì´ë ‡ê²Œ ìƒëµì„ ë§ì´ í–ˆëŠ”ì§€ ì•Œ ê²ƒ ê°™ì•˜ë‹¤â€¦</p>

<p>í•˜ ì¤‘ê°„ì— ìƒëµì„ ë‚˜ë„ ì–´ëŠì •ë„ í• ê¹Œ í•˜ë‹¤ê°€</p>

<p><br /></p>

<p>í˜¹ì—¬ë‚˜ íŠœí† ë¦¬ì–¼ ì´í•´ ì•ˆë˜ëŠ” ê°œë°œìê°€ ì´ ê¸€ì„ ì½ì—ˆì„ ë•Œ,</p>

<p>ë˜‘ê°™ì´ ë­ì•¼ ì™œ ìƒëµëì–´ ã… </p>

<p>í•˜ê³  ë‹¤ë¥¸ ê¸€ì„ ì°¾ì•„ ê°€ëŠ” ì¼ì„ ë°©ì§€í•˜ê³ ìâ€¦ ê¸¸ì§€ë§Œ ì¨ë´¤ë‹¤â€¦.</p>

</div>
  <div class="share-page">
  <span style="float: left;">Share this on &rarr;&nbsp;&nbsp;</span>

  <!-- Twitter -->
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <!-- Facebook -->
  <div class="fb-share-button" data-href="http://localhost:4000/architeture/2022/03/03/Swift-RIBs-Uber-Tutorial%EC%9D%98-%EC%9D%B4%ED%95%B4(%ED%95%98%EC%9C%84-%EB%A6%AC%EB%B8%94%EB%A0%9B-%EB%B6%99%EC%9D%B4%EA%B8%B02).html" data-layout="button_count" style="position: relative; top: -8px; left: 3px;"></div>
</div>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

</div>


  
    
      
        
          
      
    
  
    
      
        
          
            
            <div class="panel-body">
              <h4>Related Posts</h4>
              <ul>
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/architeture/2022/03/02/Swift-RIBs-Uber-Tutorial%EC%9D%98-%EC%9D%B4%ED%95%B4(%ED%95%98%EC%9C%84-%EB%A6%AC%EB%B8%94%EB%A0%9B-%EB%B6%99%EC%9D%B4%EA%B8%B0).html">(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (Without Component)</a>
                  
                    (Categories: <a href="/category/Architeture">Architeture</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/architeture/2022/02/28/Swift-RIBs-Uber-Tutorial%EC%9D%98-%EC%9D%B4%ED%95%B4(Launch-Router-%EB%A7%8C%EB%93%A4%EA%B8%B0).html">(RIBs) Uber/Tutorialì˜ ì´í•´ (Launch Router ë§Œë“¤ê¸°)</a>
                  
                    (Categories: <a href="/category/Architeture">Architeture</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
  
  </ul>
</div>


<div class="PageNavigation">
  
    <a class="prev" href="/architeture/2022/03/02/Swift-RIBs-Uber-Tutorial%EC%9D%98-%EC%9D%B4%ED%95%B4(%ED%95%98%EC%9C%84-%EB%A6%AC%EB%B8%94%EB%A0%9B-%EB%B6%99%EC%9D%B4%EA%B8%B0).html">&laquo; (RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (Without Component)</a>
  
  
</div>

<div class="disqus-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* <![CDATA[ */
    var disqus_shortname = "https-jiseobkim-github-io";
    var disqus_identifier = "http://localhost:4000_(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component)";
    var disqus_title = "(RIBs) Uber/Tutorialì˜ ì´í•´ (á„’á…¡á„‹á…± á„…á…µá„‡á…³á†¯á„…á…¦á†º á„‡á…®á‡€á„‹á…µá„€á…µ) (With Component)";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    /* ]]> */
  </script>
</div>

        <footer>
          &copy; Secret ğŸ¤«
          
            - <a href="https://github.com/JiSeobKim">https://github.com/JiSeobKim</a> - Powered by Jekyll.
          
          <div class="btn-github" style="float:right;">
            <iframe src="https://ghbtns.com/github-btn.html?user=agusmakmun&repo=agusmakmun.github.io&type=star&count=true" frameborder="0" scrolling="0" width="85" height="20px"></iframe>
            <iframe src="https://ghbtns.com/github-btn.html?user=agusmakmun&repo=agusmakmun.github.io&type=fork&count=true" frameborder="0" scrolling="0" width="85" height="20px"></iframe>
          </div>
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/super-search.js"></script>
    <script src="/static/js/thickbox-compressed.js"></script>
    <script src="/static/js/projects.js"></script>
  </body>
</html>

